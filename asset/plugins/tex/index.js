(()=>{"use strict";var e,t,n,u,r={196:e=>{e.exports=window.React}},o={};function i(e){var t=o[e];if(void 0!==t)return t.exports;var n=o[e]={exports:{}};return r[e].call(n.exports,n,n.exports,i),n.exports}i.m=r,i.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return i.d(t,{a:t}),t},i.d=(e,t)=>{for(var n in t)i.o(t,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},i.f={},i.e=e=>Promise.all(Object.keys(i.f).reduce(((t,n)=>(i.f[n](e,t),t)),[])),i.u=e=>e+"-"+{185:"1d0954",664:"207448"}[e]+".js",i.miniCssF=e=>e+".index.css",i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),e={},t="TopWritePlugins.tex:",i.l=(n,u,r,o)=>{if(e[n])e[n].push(u);else{var a,c;if(void 0!==r)for(var l=document.getElementsByTagName("script"),s=0;s<l.length;s++){var f=l[s];if(f.getAttribute("src")==n||f.getAttribute("data-webpack")==t+r){a=f;break}}a||(c=!0,(a=document.createElement("script")).charset="utf-8",a.timeout=120,i.nc&&a.setAttribute("nonce",i.nc),a.setAttribute("data-webpack",t+r),a.src=n),e[n]=[u];var h=(t,u)=>{a.onerror=a.onload=null,clearTimeout(p);var r=e[n];if(delete e[n],a.parentNode&&a.parentNode.removeChild(a),r&&r.forEach((e=>e(u))),t)return t(u)},p=setTimeout(h.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=h.bind(null,a.onerror),a.onload=h.bind(null,a.onload),c&&document.head.appendChild(a)}},i.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e;i.g.importScripts&&(e=i.g.location+"");var t=i.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var n=t.getElementsByTagName("script");n.length&&(e=n[n.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),i.p=e})(),n=e=>new Promise(((t,n)=>{var u=i.miniCssF(e),r=i.p+u;if(((e,t)=>{for(var n=document.getElementsByTagName("link"),u=0;u<n.length;u++){var r=(i=n[u]).getAttribute("data-href")||i.getAttribute("href");if("stylesheet"===i.rel&&(r===e||r===t))return i}var o=document.getElementsByTagName("style");for(u=0;u<o.length;u++){var i;if((r=(i=o[u]).getAttribute("data-href"))===e||r===t)return i}})(u,r))return t();((e,t,n,u)=>{var r=document.createElement("link");r.rel="stylesheet",r.type="text/css",r.onerror=r.onload=o=>{if(r.onerror=r.onload=null,"load"===o.type)n();else{var i=o&&("load"===o.type?"missing":o.type),a=o&&o.target&&o.target.href||t,c=new Error("Loading CSS chunk "+e+" failed.\n("+a+")");c.code="CSS_CHUNK_LOAD_FAILED",c.type=i,c.request=a,r.parentNode.removeChild(r),u(c)}},r.href=t,document.head.appendChild(r)})(e,r,t,n)})),u={179:0},i.f.miniCss=(e,t)=>{u[e]?t.push(u[e]):0!==u[e]&&{664:1}[e]&&t.push(u[e]=n(e).then((()=>{u[e]=0}),(t=>{throw delete u[e],t})))},(()=>{var e={179:0};i.f.j=(t,n)=>{var u=i.o(e,t)?e[t]:void 0;if(0!==u)if(u)n.push(u[2]);else{var r=new Promise(((n,r)=>u=e[t]=[n,r]));n.push(u[2]=r);var o=i.p+i.u(t),a=new Error;i.l(o,(n=>{if(i.o(e,t)&&(0!==(u=e[t])&&(e[t]=void 0),u)){var r=n&&("load"===n.type?"missing":n.type),o=n&&n.target&&n.target.src;a.message="Loading chunk "+t+" failed.\n("+r+": "+o+")",a.name="ChunkLoadError",a.type=r,a.request=o,u[1](a)}}),"chunk-"+t,t)}};var t=(t,n)=>{var u,r,[o,a,c]=n,l=0;if(o.some((t=>0!==e[t]))){for(u in a)i.o(a,u)&&(i.m[u]=a[u]);if(c)c(i)}for(t&&t(n);l<o.length;l++)r=o[l],i.o(e,r)&&e[r]&&e[r][0](),e[r]=0},n=self.webpackChunkTopWritePlugins_tex=self.webpackChunkTopWritePlugins_tex||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var a={};(()=>{i.d(a,{default:()=>D});const e=window.TopWrite;var t=i(196);r(/[A-Za-z]/),r(/\d/),r(/[\dA-Fa-f]/),r(/[\dA-Za-z]/),r(/[!-/:-@[-`{-~]/),r(/[#-'*+\--9=?A-Z^-~]/);function n(e){return null!==e&&e<-2}function u(e){return-2===e||-1===e||32===e}r(/\s/),r(/[!-/:-@[-`{-~\u00A1\u00A7\u00AB\u00B6\u00B7\u00BB\u00BF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/);function r(e){return function(t){return null!==t&&e.test(String.fromCharCode(t))}}function o(e,t,n,r){const o=r?r-1:Number.POSITIVE_INFINITY;let i=0;return function(r){if(u(r))return e.enter(n),a(r);return t(r)};function a(r){return u(r)&&i++<o?(e.consume(r),a):(e.exit(n),t(r))}}const c={tokenize:function(e,t,u){const r=this,i=r.events[r.events.length-1],a=i&&"linePrefix"===i[1].type?i[2].sliceSerialize(i[1],!0).length:0;let c=0;return function(t){return e.enter("mathFlow"),e.enter("mathFlowFence"),e.enter("mathFlowFenceSequence"),s(t)};function s(t){return 36===t?(e.consume(t),c++,s):(e.exit("mathFlowFenceSequence"),c<2?u(t):o(e,f,"whitespace")(t))}function f(t){return null===t||n(t)?p(t):(e.enter("mathFlowFenceMeta"),e.enter("chunkString",{contentType:"string"}),h(t))}function h(t){return null===t||n(t)?(e.exit("chunkString"),e.exit("mathFlowFenceMeta"),p(t)):36===t?u(t):(e.consume(t),h)}function p(n){return e.exit("mathFlowFence"),r.interrupt?t(n):F(n)}function F(t){return null===t?d(t):n(t)?e.attempt(l,e.attempt({tokenize:g,partial:!0},d,a?o(e,F,"linePrefix",a+1):F),d)(t):(e.enter("mathFlowValue"),m(t))}function m(t){return null===t||n(t)?(e.exit("mathFlowValue"),F(t)):(e.consume(t),m)}function d(n){return e.exit("mathFlow"),t(n)}function g(e,t,u){let r=0;return o(e,(function(t){return e.enter("mathFlowFence"),e.enter("mathFlowFenceSequence"),i(t)}),"linePrefix",4);function i(t){return 36===t?(e.consume(t),r++,i):r<c?u(t):(e.exit("mathFlowFenceSequence"),o(e,a,"whitespace")(t))}function a(r){return null===r||n(r)?(e.exit("mathFlowFence"),t(r)):u(r)}}},concrete:!0},l={tokenize:function(e,t,n){const u=this;return function(t){return e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),r};function r(e){return u.parser.lazy[u.now().line]?n(e):t(e)}},partial:!0};function s(e={}){let t=e.singleDollarTextMath;return null==t&&(t=!0),{tokenize:function(e,u,r){let o,i,a=0;return function(t){return e.enter("mathText"),e.enter("mathTextSequence"),c(t)};function c(n){return 36===n?(e.consume(n),a++,c):a<2&&!t?r(n):(e.exit("mathTextSequence"),l(n))}function l(t){return null===t?r(t):36===t?(i=e.enter("mathTextSequence"),o=0,f(t)):32===t?(e.enter("space"),e.consume(t),e.exit("space"),l):n(t)?(e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),l):(e.enter("mathTextData"),s(t))}function s(t){return null===t||32===t||36===t||n(t)?(e.exit("mathTextData"),l(t)):(e.consume(t),s)}function f(t){return 36===t?(e.consume(t),o++,f):o===a?(e.exit("mathTextSequence"),e.exit("mathText"),u(t)):(i.type="mathTextData",s(t))}},resolve:f,previous:h}}function f(e){let t,n,u=e.length-4,r=3;if(!("lineEnding"!==e[r][1].type&&"space"!==e[r][1].type||"lineEnding"!==e[u][1].type&&"space"!==e[u][1].type))for(t=r;++t<u;)if("mathTextData"===e[t][1].type){e[u][1].type="mathTextPadding",e[r][1].type="mathTextPadding",r+=2,u-=2;break}for(t=r-1,u++;++t<=u;)void 0===n?t!==u&&"lineEnding"!==e[t][1].type&&(n=t):t!==u&&"lineEnding"!==e[t][1].type||(e[n][1].type="mathTextData",t!==n+2&&(e[n][1].end=e[t-1][1].end,e.splice(n+2,t-n-2),u-=t-n-2,t=n+2),n=void 0);return e}function h(e){return 36!==e||"characterEscape"===this.events[this.events.length-1][1].type}function p(e){if(!e._compiled){const t=(e.atBreak?"[\\r\\n][\\t ]*":"")+(e.before?"(?:"+e.before+")":"");e._compiled=new RegExp((t?"("+t+")":"")+(/[|\\{}()[\]^$+*?.-]/.test(e.character)?"\\":"")+e.character+(e.after?"(?:"+e.after+")":""),"g")}return e._compiled}function F(e,t){return m(e,t.inConstruct,!0)&&!m(e,t.notInConstruct,!1)}function m(e,t,n){if(!t)return n;"string"==typeof t&&(t=[t]);let u=-1;for(;++u<t.length;)if(e.includes(t[u]))return!0;return!1}function d(e,t){return e-t}function g(e,t){const n=/\\(?=[!-/:-@[-`{-~])/g,u=[],r=[],o=e+t;let i,a=-1,c=0;for(;i=n.exec(o);)u.push(i.index);for(;++a<u.length;)c!==u[a]&&r.push(e.slice(c,u[a])),r.push("\\"),c=u[a];return r.push(e.slice(c)),r.join("")}function A(e={}){let t=e.singleDollarTextMath;return null==t&&(t=!0),n.peek=function(){return"$"},{unsafe:[{character:"\r",inConstruct:["mathFlowMeta"]},{character:"\r",inConstruct:["mathFlowMeta"]},t?{character:"$",inConstruct:["mathFlowMeta","phrasing"]}:{character:"$",after:"\\$",inConstruct:["mathFlowMeta","phrasing"]},{atBreak:!0,character:"$",after:"\\$"}],handlers:{math:function(e,t,n){const u=e.value||"",r="$".repeat(Math.max(function(e,t){const n=String(e);let u=n.indexOf(t),r=u,o=0,i=0;if("string"!=typeof t||1!==t.length)throw new Error("Expected character");for(;-1!==u;)u===r?++o>i&&(i=o):o=1,r=u+1,u=n.indexOf(t,r);return i}(u,"$")+1,2)),o=n.enter("mathFlow");let i=r;if(e.meta){const t=n.enter("mathFlowMeta");i+=function(e,t,n){const u=(n.before||"")+(t||"")+(n.after||""),r=[],o=[],i={};let a=-1;for(;++a<e.unsafe.length;){const t=e.unsafe[a];if(!F(e.stack,t))continue;const n=p(t);let o;for(;o=n.exec(u);){const e="before"in t||Boolean(t.atBreak),n="after"in t,u=o.index+(e?o[1].length:0);r.includes(u)?(i[u].before&&!e&&(i[u].before=!1),i[u].after&&!n&&(i[u].after=!1)):(r.push(u),i[u]={before:e,after:n})}}r.sort(d);let c=n.before?n.before.length:0;const l=u.length-(n.after?n.after.length:0);for(a=-1;++a<r.length;){const e=r[a];e<c||e>=l||e+1<l&&r[a+1]===e+1&&i[e].after&&!i[e+1].before&&!i[e+1].after||r[a-1]===e-1&&i[e].before&&!i[e-1].before&&!i[e-1].after||(c!==e&&o.push(g(u.slice(c,e),"\\")),c=e,!/[!-/:-@[-`{-~]/.test(u.charAt(e))||n.encode&&n.encode.includes(u.charAt(e))?(o.push("&#x"+u.charCodeAt(e).toString(16).toUpperCase()+";"),c++):o.push("\\"))}return o.push(g(u.slice(c,l),n.after)),o.join("")}(n,e.meta,{before:"$",after:" ",encode:["$"]}),t()}i+="\n",u&&(i+=u+"\n");return i+=r,o(),i},inlineMath:n}};function n(e){const n=e.value||"";let u=1,r="";for(t||u++;new RegExp("(^|[^$])"+"\\$".repeat(u)+"([^$]|$)").test(n);)u++;/[^ \r\n]/.test(n)&&(/[ \r\n$]/.test(n.charAt(0))||/[ \r\n$]/.test(n.charAt(n.length-1)))&&(r=" ");const o="$".repeat(u);return o+r+n+r+o}}function y(e={}){const t=this.data();function n(e,n){(t[e]?t[e]:t[e]=[]).push(n)}n("micromarkExtensions",function(e){return{flow:{36:c},text:{36:s(e)}}}(e)),n("fromMarkdownExtensions",function(){return{enter:{mathFlow:function(e){this.enter({type:"math",meta:null,value:"",data:{hName:"div",hProperties:{className:["math","math-display"]},hChildren:[{type:"text",value:""}]}},e)},mathFlowFenceMeta:function(){this.buffer()},mathText:function(e){this.enter({type:"inlineMath",value:"",data:{hName:"span",hProperties:{className:["math","math-inline"]},hChildren:[{type:"text",value:""}]}},e),this.buffer()}},exit:{mathFlow:function(e){const t=this.resume().replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),n=this.exit(e);n.value=t,n.data.hChildren[0].value=t,this.setData("mathFlowInside")},mathFlowFence:function(){this.getData("mathFlowInside")||(this.buffer(),this.setData("mathFlowInside",!0))},mathFlowFenceMeta:function(){const e=this.resume();this.stack[this.stack.length-1].meta=e},mathFlowValue:e,mathText:function(e){const t=this.resume(),n=this.exit(e);n.value=t,n.data.hChildren[0].value=t},mathTextData:e}};function e(e){this.config.enter.data.call(this,e),this.config.exit.data.call(this,e)}}()),n("toMarkdownExtensions",A(e))}const x=function(e){if(null==e)return w;if("string"==typeof e)return function(e){return E(t);function t(t){return t&&t.type===e}}(e);if("object"==typeof e)return Array.isArray(e)?function(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=x(e[n]);return E(u);function u(...e){let n=-1;for(;++n<t.length;)if(t[n].call(this,...e))return!0;return!1}}(e):function(e){return E(t);function t(t){let n;for(n in e)if(t[n]!==e[n])return!1;return!0}}(e);if("function"==typeof e)return E(e);throw new Error("Expected function, string, or object as test")};function E(e){return function(...t){return Boolean(e.call(this,...t))}}function w(){return!0}const v=function(e,t,n,u){"function"==typeof t&&"function"!=typeof n&&(u=n,n=t,t=null);const r=x(t),o=u?-1:1;!function e(i,a,c){const l="object"==typeof i&&null!==i?i:{};let s;"string"==typeof l.type&&(s="string"==typeof l.tagName?l.tagName:"string"==typeof l.name?l.name:void 0,Object.defineProperty(f,"name",{value:"node ("+l.type+(s?"<"+s+">":"")+")"}));return f;function f(){let l,s,f,h=[];if((!t||r(i,a,c[c.length-1]||null))&&(h=function(e){if(Array.isArray(e))return e;if("number"==typeof e)return[true,e];return[e]}(n(i,c)),false===h[0]))return h;if(i.children&&"skip"!==h[0])for(s=(u?i.children.length:-1)+o,f=c.concat(i);s>-1&&s<i.children.length;){if(l=e(i.children[s],s,f)(),false===l[0])return l;s="number"==typeof l[1]?l[1]:s+o}return h}}(e,null,[])()};const b=function(e,t,n,u){"function"==typeof t&&"function"!=typeof n&&(u=n,n=t,t=null),v(e,t,(function(e,t){const u=t[t.length-1];return n(e,u?u.children.indexOf(e):null,u)}),u)},C=()=>Promise.all([i.e(185),i.e(664)]).then(i.bind(i,664)),D=function(n){let{components:u,localize:r,locales:o,...i}=n,a={};if(u)for(const[e,n]of Object.entries(u))n&&(a[e]=n instanceof Array?[(0,t.lazy)(n[0]),n[1]]:(0,t.lazy)(n));return new e.Plugin({name:"tex",meta:void 0,components:a,localize:r,config:undefined,...i})}({components:{"block:math":C,"block:tex":C,"inline:$":C},activate(){(0,t.useEffect)((()=>{e.markdown.use(y),e.markdown.use((function(){return function(e){const t=(e,t,n)=>{if(null!==t&&null!==n)if("math"===e.type){const u={type:"xBlock",name:"math",value:e.value,position:e.position};n.children.splice(t,1,u)}else if("inlineMath"===e.type){const u={type:"xInline",name:"$",value:e.value,position:e.position};n.children.splice(t,1,u)}};b(e,"math",t),b(e,"inlineMath",t)}}))}),[])}})})(),(window.TopWritePlugins=window.TopWritePlugins||{}).tex=a.default})();
//# sourceMappingURL=index.js.map